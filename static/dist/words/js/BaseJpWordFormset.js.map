{"version":3,"sources":["words/js/BaseJpWordFormset.js"],"names":["getLastFormId","$totalForms","$","val","addForm","$lastFormDiv","$lastFormKanjis","$lastFormOwner","$lastFormActions","before","clone","modifyLastForm","newId","attr","find","$lastFormWord","addToTotalForms","removeLastForm","remove","number","click"],"mappings":";AAWA,SAASA,IAEEC,OADWC,EAAE,6BACDC,MAAQ,EAG/B,SAASC,IACDC,IAAAA,EAAeH,EAAE,mBAAmBF,IAAgB,SACpDM,EAAkBJ,EAAE,iBAAiBF,IAAgB,WACrDO,EAAiBL,EAAE,iBAAiBF,IAAgB,UACpDQ,EAAmBN,EAAE,0CACzBM,EAAiBC,OAAOJ,EAAaK,SACrCF,EAAiBC,OAAOH,EAAgBI,SACxCF,EAAiBC,OAAOF,EAAeG,SACvCC,IAGJ,SAASA,IACDN,IAAAA,EAAeH,EAAE,mBAAmBF,IAAgB,cACpDM,EAAkBJ,EAAE,iBAAiBF,IAAgB,gBACrDO,EAAiBL,EAAE,iBAAiBF,IAAgB,eACpDY,EAAQZ,IAAkB,EAC9BK,EAAaQ,KAAK,KAAM,eAAeD,EAAM,SAC7CP,EAAaS,KAAK,eAAeD,KAAK,MAAO,WAAWD,EAAM,SAC1DG,IAAAA,EAAgBV,EAAaS,KAAK,iBAAiBd,IAAgB,SACvEe,EAAcF,KAAK,KAAM,WAAWD,EAAM,SAC1CG,EAAcF,KAAK,OAAQ,QAAQD,EAAM,SACzCG,EAAcZ,IAAI,IAClBG,EAAgBO,KAAK,KAAM,WAAWD,EAAM,WAC5CN,EAAgBO,KAAK,OAAQ,QAAQD,EAAM,WAC3CL,EAAeM,KAAK,KAAM,WAAWD,EAAM,UAC3CL,EAAeM,KAAK,OAAQ,QAAQD,EAAM,UAC1CI,EAAgB,GAGpB,SAASC,IACDjB,GAAmB,GAAnBA,IAAsB,CAClBK,IAAAA,EAAeH,EAAE,mBAAmBF,IAAgB,SACpDM,EAAkBJ,EAAE,iBAAiBF,IAAgB,WACrDO,EAAiBL,EAAE,iBAAiBF,IAAgB,UACxDK,EAAaa,SACbZ,EAAgBY,SAChBX,EAAeW,SACfF,GAAiB,IAIzB,SAASA,EAAgBG,GACjBlB,IAAAA,EAAcC,EAAE,6BACpBD,EAAYE,KAAMF,EAAYE,MAASgB,GArD3CjB,EAAE,WACCA,EAAE,uBAAuBkB,MAAMhB,GAC/BF,EAAE,0BAA0BkB,MAAMH","file":"BaseJpWordFormset.js","sourceRoot":"..","sourcesContent":["/*\n* This javascript was hardcoded in order to work\n* with this specific formset, may be changed in the future\n* depending on the needs\n*/\n\n$(function(){\n   $('input#button-id-add').click(addForm);\n   $('input#button-id-delete').click(removeLastForm);\n});\n\nfunction getLastFormId() {\n    let $totalForms = $('input#id_form-TOTAL_FORMS');\n    return $totalForms.val() - 1;\n}\n\nfunction addForm() {\n    let $lastFormDiv = $(\"div#div_id_form-\"+getLastFormId()+\"-word\");\n    let $lastFormKanjis = $(\"input#id_form-\"+getLastFormId()+\"-kanjis\");\n    let $lastFormOwner = $(\"input#id_form-\"+getLastFormId()+\"-owner\");\n    let $lastFormActions = $('form#id-JpWordFormset div.form-actions');\n    $lastFormActions.before($lastFormDiv.clone());\n    $lastFormActions.before($lastFormKanjis.clone());\n    $lastFormActions.before($lastFormOwner.clone());\n    modifyLastForm();\n}\n\nfunction modifyLastForm() {\n    let $lastFormDiv = $(\"div#div_id_form-\"+getLastFormId()+\"-word:last\");\n    let $lastFormKanjis = $(\"input#id_form-\"+getLastFormId()+\"-kanjis:last\");\n    let $lastFormOwner = $(\"input#id_form-\"+getLastFormId()+\"-owner:last\");\n    let newId = getLastFormId() + 1;\n    $lastFormDiv.attr(\"id\", \"div_id_form-\"+newId+\"-word\");\n    $lastFormDiv.find(\"label:first\").attr(\"for\", \"id_form-\"+newId+\"-word\");\n    let $lastFormWord = $lastFormDiv.find(\"input#id_form-\"+getLastFormId()+\"-word\");\n    $lastFormWord.attr(\"id\", \"id_form-\"+newId+\"-word\");\n    $lastFormWord.attr(\"name\", \"form-\"+newId+\"-word\");\n    $lastFormWord.val(\"\");\n    $lastFormKanjis.attr(\"id\", \"id_form-\"+newId+\"-kanjis\");\n    $lastFormKanjis.attr(\"name\", \"form-\"+newId+\"-kanjis\");\n    $lastFormOwner.attr(\"id\", \"id_form-\"+newId+\"-owner\");\n    $lastFormOwner.attr(\"name\", \"form-\"+newId+\"-owner\");\n    addToTotalForms(1);\n}\n\nfunction removeLastForm() {\n    if (getLastFormId() != 0) {\n        let $lastFormDiv = $(\"div#div_id_form-\"+getLastFormId()+\"-word\");\n        let $lastFormKanjis = $(\"input#id_form-\"+getLastFormId()+\"-kanjis\");\n        let $lastFormOwner = $(\"input#id_form-\"+getLastFormId()+\"-owner\");\n        $lastFormDiv.remove();\n        $lastFormKanjis.remove();\n        $lastFormOwner.remove();\n        addToTotalForms(-1);\n    }\n}\n\nfunction addToTotalForms(number) {\n    let $totalForms = $('input#id_form-TOTAL_FORMS');\n    $totalForms.val(+($totalForms.val()) + number);\n}\n"]}